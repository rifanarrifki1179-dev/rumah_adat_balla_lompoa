<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tur Virtual Rumah Adat Balla Lompoa 0–11 (no loops)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
    <link rel="stylesheet" href="style/vtour.css">
</head>

<body>
<div class="top-bar">
  <a href="index.html" class="go-home">← Kembali ke Beranda</a>
  <h3 class="page-title">Tur Virtual Rumah Adat Balla Lompoa (Scenes 0 → 11)</h3>
  <div class="top-bar__actions">
    <button class="minimap-btn" onclick="showMinimap()">Tampilkan Minimap</button>
    <button id="toggleDragBtn" class="minimap-btn">Nonaktifkan Drag</button>
  </div>
</div>
</body>

<!-- Modal Minimap -->
<div id="minimapModal" class="minimap-modal" onclick="hideMinimap()">
  <img src="../assets/images/minimap_balla_lompoa.jpg" alt="Minimap Tur Virtual" class="minimap-img">
</div>

<div id="panorama"></div>
<div class="scenes">
  <!-- Static scene buttons without any loop -->
  <button onclick="viewer.loadScene('s0')">0</button>
  <button onclick="viewer.loadScene('s1')">1</button>
  <button onclick="viewer.loadScene('s2')">2</button>
  <button onclick="viewer.loadScene('s3')">3</button>
  <button onclick="viewer.loadScene('s4')">4</button>
  <button onclick="viewer.loadScene('s5')">5</button>
  <button onclick="viewer.loadScene('s6')">6</button>
  <button onclick="viewer.loadScene('s7')">7</button>
  <button onclick="viewer.loadScene('s8')">8</button>
  <button onclick="viewer.loadScene('s9')">9</button>
  <button onclick="viewer.loadScene('s10')">10</button>
  <button onclick="viewer.loadScene('s11')">11</button>
</div>

<script>

  // function renderAlertHotspot(hotSpotDiv, args) {
  //   hotSpotDiv.classList.add('custom-hotspot');

  //   if (args) {
  //     const tooltip = document.createElement('span');
  //     tooltip.textContent = args;
  //     hotSpotDiv.appendChild(tooltip);
  //   }
  // }

  /*
    // === Generator otomatis hotspot ===
    // const LAST_SCENE_INDEX = 53;
    // const scenes = {};
    // for (let i = 0; i <= LAST_SCENE_INDEX; i += 1) {
    //   const sceneId = `s${i}`;
    //   const entry = {
    //     title: `Spot ${i}`,
    //     type: "equirectangular",
    //     panorama: `panos/image${i}.jpg`
    //   };
    //   if (i < LAST_SCENE_INDEX) {
    //     entry.hotSpots = [{
    //       pitch: 0,
    //       yaw: 0,
    //       type: "scene",
    //       sceneId: `s${i + 1}`,
    //       text: `Ke Spot ${i + 1}`
    //     }];
    //   }
    //   scenes[sceneId] = entry;
    // }
    // var viewer = pannellum.viewer('panorama', {
    //   "default": {
    //     "firstScene": "s0",
    //     "autoLoad": true,
    //     "showControls": true
    //   },
    //   "scenes": scenes
    // });
  */

  // === Konfigurasi manual dengan hotspot eksplisit ===
  var viewer = pannellum.viewer('panorama', {
    "default": {
      "firstScene": "s0",
      "autoLoad": true,
      "showControls": true
    },
    "scenes": {
      "s0":  { "title": "Panorama Awal",  "type": "equirectangular", "panorama": "assets/360_images/Depan Rumah(3).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s1",  "text": "Ke Spot 1" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },

      "s1":  { "title": "Panorama 1",  "type": "equirectangular", "panorama": "assets/360_images/Depan Rumah(4).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s2",  "text": "Ke Spot 2" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s2":  { "title": "Panorama 2",  "type": "equirectangular", "panorama": "assets/360_images/Depan Tangga Rumah.jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s3",  "text": "Ke Spot 3" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s3":  { "title": "Panorama 3",  "type": "equirectangular", "panorama": "assets/360_images/Ruang Registrasi.jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s4",  "text": "Ke Spot 4" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s4":  { "title": "Panorama 4",  "type": "equirectangular", "panorama": "assets/360_images/Pintu Masuk Ruangan Utama.jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s5",  "text": "Ke Spot 5" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s5":  { "title": "Panorama 5",  "type": "equirectangular", "panorama": "assets/360_images/Ruang Utama 1(2).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s6",  "text": "Ke Spot 6" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s6":  { "title": "Panorama 6",  "type": "equirectangular", "panorama": "assets/360_images/Ruang Utama 1(1).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s7",  "text": "Ke Spot 7" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s7":  { "title": "Panorama 7",  "type": "equirectangular", "panorama": "assets/360_images/Pintu Masuk Ruangan Utama 2.jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s8",  "text": "Ke Spot 8" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s8":  { "title": "Panorama 8",  "type": "equirectangular", "panorama": "assets/360_images/Ruang Utama 2 (1).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s9",  "text": "Ke Spot 9" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s9":  { "title": "Panorama 9",  "type": "equirectangular", "panorama": "assets/360_images/Ruang Utama 2(2).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s10",  "text": "Ke Spot 10" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s10":  { "title": "Panorama 10",  "type": "equirectangular", "panorama": "assets/360_images/Ruang_Utama_2(3).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s11",  "text": "Ke Spot 11" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
      "s11":  { "title": "Panorama 11",  "type": "equirectangular", "panorama": "assets/360_images/Ruang_Utama_2(4).jpg",  "hotSpots": [
        { "pitch": 0, "yaw": 0, "type": "scene", "sceneId": "s1",  "text": "Ke Spot 1" },
        {
            "pitch": 24,
            "yaw": 0.75,
            "type": "info",
            "text": "Timpalaja-Ada satu keunikan lain dalam struktur bola ugi di antara dinding dan atap. Terdapat bidang segitiga atau gevel (gable) yang disebut timpalaja. Dengan bagian timpalaja yang dipasang bersusun ini bisa diketahui status sosial pemilik rumah. Jika timpalaja memiliki tiga atau lima susun, maka tandanya pemilik rumah berasal dari golongan elite. Namun jika timpalaja hanya terdiri dari satu atau dua susun, berarti pemilik rumah berasal dari kalangan biasa. Meski demikian, penggunaan timpalaja untuk menunjukkan status sosial pada masa kini sudah tidak seketat pada zaman dahulu dan jumlah susunannya sudah tidak lagi harus selalu sesuai dengan status sosial. Masyarakat dari segala kalangan dapat memasang timpalaja dengan susunan yang sesuai keinginan.<br><br><em>Sumber:</em> <a href=\"https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5\" target=\"_blank\" rel=\"noopener noreferrer\">Wikipedia - Bola Ugi</a>",
            "URL": "https://id.wikipedia.org/wiki/Bola_Ugi#cite_note-5"
        },
        {
            "pitch": 7,
            "yaw": 52,
            "type": "info",
            "text": "Papan nama"
        },
        {
            "pitch": -1.16,
            "yaw": -35.75,
            "type": "info",
            "text": "Lampu"
        },
        {
            "pitch": 1,
            "yaw": 38,
            "type": "info",
            "text": "Bunga"
        },
      ] },
    }
  });

  // Fungsi untuk menampilkan modal minimap
  function showMinimap() {
    document.getElementById('minimapModal').classList.add('active');
  }
  function hideMinimap() {
    document.getElementById('minimapModal').classList.remove('active');
  }

  // === Menampilkan koordinat pitch dan yaw saat panorama di-klik ===
  const panoramaEl = document.getElementById('panorama');
  const coordDiv = document.createElement('div');
  coordDiv.className = 'coord-hint';
  coordDiv.textContent = 'Klik panorama untuk koordinat';
  if (panoramaEl) {
    panoramaEl.appendChild(coordDiv);
  } else {
    document.body.appendChild(coordDiv);
  }
  const toggleBtn = document.getElementById('toggleDragBtn');
  const viewerContainer = typeof viewer.getContainer === 'function'
    ? viewer.getContainer()
    : panoramicFallback();

  let dragEnabled = true;

  function panoramicFallback() {
    return panoramaEl.querySelector('.pnlm-container') || panoramaEl;
  }

  function setCoordHint(message) {
    coordDiv.textContent = message;
  }

  function showCoords(event) {
    const coords = viewer.mouseEventToCoords(event);
    if (coords && Number.isFinite(coords.yaw) && Number.isFinite(coords.pitch)) {
      coordDiv.textContent = `Yaw: ${coords.yaw.toFixed(2)}, Pitch: ${coords.pitch.toFixed(2)}`;
    } else {
      const fallbackYaw = typeof viewer.getYaw === 'function' ? viewer.getYaw() : NaN;
      const fallbackPitch = typeof viewer.getPitch === 'function' ? viewer.getPitch() : NaN;
      if (Number.isFinite(fallbackYaw) && Number.isFinite(fallbackPitch)) {
        coordDiv.textContent = `Yaw: ${fallbackYaw.toFixed(2)}, Pitch: ${fallbackPitch.toFixed(2)}`;
      } else {
        setCoordHint('Tidak dapat membaca koordinat');
      }
    }
  }

  function handlePointer(event) {
    if (!dragEnabled) {
      showCoords(event);
      event.stopPropagation();
      event.preventDefault();
    }
  }

  function handleScroll(event) {
    if (!dragEnabled) {
      event.stopPropagation();
      event.preventDefault();
    }
  }

  const wheelListenerOptions = { capture: true, passive: false };

  function disableDrag() {
    dragEnabled = false;
    panoramaEl.style.cursor = 'pointer';
    viewerContainer.style.cursor = 'pointer';
    viewerContainer.addEventListener('mousedown', handlePointer, true);
    viewerContainer.addEventListener('touchstart', handlePointer, true);
    viewerContainer.addEventListener('click', handlePointer, true);
    viewerContainer.addEventListener('touchend', handlePointer, true);
    viewerContainer.addEventListener('wheel', handleScroll, wheelListenerOptions);
    toggleBtn.textContent = 'Aktifkan Drag';
    setCoordHint('Mode koordinat aktif — klik panorama');
  }

  function enableDrag() {
    dragEnabled = true;
    panoramaEl.style.cursor = 'grab';
    viewerContainer.style.cursor = 'grab';
    viewerContainer.removeEventListener('mousedown', handlePointer, true);
    viewerContainer.removeEventListener('touchstart', handlePointer, true);
    viewerContainer.removeEventListener('click', handlePointer, true);
    viewerContainer.removeEventListener('touchend', handlePointer, true);
    viewerContainer.removeEventListener('wheel', handleScroll, wheelListenerOptions);
    toggleBtn.textContent = 'Nonaktifkan Drag';
    setCoordHint('Klik panorama untuk koordinat');
  }

  toggleBtn.onclick = function() {
    if (dragEnabled) {
      disableDrag();
    } else {
      enableDrag();
    }
  };

  // Set cursor awal dan pesan bawaan
  enableDrag();

  document.addEventListener('click', () => {
    document.querySelectorAll('.hotspot-alert.is-open').forEach((node) => node.classList.remove('is-open'));
  });
</script>

</body>
</html>